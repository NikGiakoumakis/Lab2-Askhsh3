-------Άσκηση 3--------



%x SINGLELINECOMMENTS
%x MULTILINECOMMENTS
Στο παραπάνω κομμάτι ορίζουμε τους δικούς μας κανόνες ώστε το Flex να καταλάβει ότι ορίσαμε ειδικές καταστάσεις για ό,τι ξεκινάει με τα ονόματα SINGLELINECOMMENTS και MULTILINECOMMENTS.

%%
	
"//"					          { BEGIN(SINGLELINECOMMENTS); }
<SINGLELINECOMMENTS>\n  { BEGIN(INITIAL); printf("\n"); }
<SINGLELINECOMMENTS>.	;
Εδώ διαχειριζόμαστε τα σχόλια που ξεκινάνε με // δηλαδή μπαίνουμε οπωσδήποτε στην κατάσταση μόλις συναντήσει // και μόλις συναντήσει \n (αλλαγή γραμμης) θα σταματήσει. Με την τελευταία εντολή το (.) σημαίνει ότι ό,τι χαρακτήρας, σύμβολο ή αριθμός υπάρχει μέσα στο // διαγράφεται.

"/*"					{ BEGIN(MULTILINECOMMENTS); }
<MULTILINECOMMENTS>"*/"	{ BEGIN(INITIAL); }
<MULTILINECOMMENTS>\n   { printf("\n"); }
<MULTILINECOMMENTS>.    ; 
Εδώ πολύ παρόμοια λογική μόνο που μόλις συναντήσει /* μπαίνει στην κατάσταση και βγαίνει στο */. Μετά εισάγουμε και το newline ώστε αν υπάρχει ένα μεγάλο σχόλιο να μην χαθεί η ροή των γραμμών του αρχικού κώδικα και με το (.) διαγράφεται ό,τι υπάρχει μέσα.



.						  {ECHO;}
\n						{ECHO;}	

Και εδώ λέμε οτιδήποτε άλλο συναντήσεις απλά εκτύπωσέ το στην οθόνη κανονικά. 

Δηλαδή στη συγκεκριμένη περίπτωση με το testcode.cpp θα βγάλει:
int main() {
	printf("Hello, World!\n"); 
	
  
  printf("This is a test code.\n");
									  
  return 0;
}
